# 项目演示：Vibe Boxer 体感击拳游戏
## 基于 React Native 与 Expo 的移动端交互实践

---

## 1. 项目概述
* **应用名称**：Vibe Boxer
* **核心玩法**：利用手机加速度计感应真实挥拳动作，通过手机屏幕与虚拟对手进行博弈。
* **技术目标**：实现高性能的传感器数据处理、平滑的动画反馈以及沉浸式的触觉体验。

---

## 2. 核心功能模块
* **体感捕捉**：实时监测手机三轴加速度，计算合速度（Magnitude）判定挥拳。
* **自适应校准**：提供“点击校准”功能，根据用户挥拳力度动态调整触发阈值。
* **核心逻辑**：
    * **体力系统**：挥拳消耗体力，随时间自动恢复。
    * **连击系统**：节奏性准确命中可获得更高分数。
    * **对手AI**：对手随机左右闪避，增加游戏难度。

---

## 3. 技术栈分析
* **框架**：React Native (Expo)
* **传感器控制**：`expo-sensors` (Accelerometer)
* **动画引擎**：`react-native-reanimated` (UI 线程渲染，保证 60fps)
* **触觉反馈**：`expo-haptics` (不同等级的震动交互)
* **状态管理**：React Hooks (`useEffect`, `useRef`, `useMemo`)

---

## 4. 关键技术实现：挥拳判定
### 算法逻辑：
1. 通过 `Accelerometer` 获取 x, y, z 轴数据。
2. 计算空间加速度：`mag = sqrt(x² + y² + z²) * 9.81`。
3. **判定公式**：当 `mag > threshold` 且 `冷却时间已到` 且 `体力充足` 时触发。

---

## 5. 关键技术实现：动画与反馈
### 视觉反馈：
* 使用 `useSharedValue` 处理拳头伸缩动画。
* 命中时触发屏幕抖动（Shake）与红色闪光（Flash）。
### 物理反馈：
* **命中 (Hit)**：调用 `ImpactFeedbackStyle.Heavy` (强震动)。
* **挥空 (Miss)**：调用 `ImpactFeedbackStyle.Light` (弱震动)。

---

## 6. 代码结构亮点
* **性能优化**：
    * 使用 `useRef` 同步传感器回调中的实时状态，避免不必要的重新渲染。
    * `useMemo` 缓存 HUD 界面，防止高频传感器更新导致 UI 卡顿。
* **健壮性**：
    * 自动清理定时器与订阅，防止内存泄漏。
    * 线性插值（Interpolate）实现丝滑的视觉过渡。

---

## 7. 总结与未来优化
* **当前成果**：实现了完整的体感游戏闭环，具备良好的交互体验。
* **未来方向**：
    1. 增加音效系统。
    2. 引入更复杂的对手攻击模式。
    3. 支持多人蓝牙联机对战。
